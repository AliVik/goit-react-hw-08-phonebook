{"version":3,"file":"static/js/989.e5730f07.chunk.js","mappings":"iMAGaA,EAASC,EAAAA,GAAAA,OAAH,sJAQNC,GAAaD,EAAAA,EAAAA,IAAOE,EAAAA,GAAPF,CAAH,6K,GAUAA,EAAAA,GAAAA,IAAH,mD,qCCnBPG,EAAsBH,EAAAA,GAAAA,IAAH,gEAInBI,EAAeJ,EAAAA,GAAAA,OAAH,4IAOZK,EAAeL,EAAAA,GAAAA,EAAH,sDAIZM,EAAsBN,EAAAA,GAAAA,IAAH,8C,kDCTjB,SAASO,IACtB,IAAMC,GAAYC,EAAAA,EAAAA,IAAYC,EAAAA,EAAAA,cACxBC,GAAWF,EAAAA,EAAAA,IAAYC,EAAAA,EAAAA,aACvBE,GAAWC,EAAAA,EAAAA,MACXC,GAAYL,EAAAA,EAAAA,IAAYC,EAAAA,EAAAA,cACxBK,GAAWC,EAAAA,EAAAA,MACjB,GAAqBC,EAAAA,EAAAA,MAAdC,GAAP,eAEMC,EAAiB,mCAAE,oGAEGD,EAAWJ,EAAW,CAChDM,iBAAkB,qBAAEC,KAAeC,QAHZ,OAElBC,EAFkB,OAKzBX,GAASY,EAAAA,EAAAA,IAAOD,IAChBR,EAAS,KANgB,2CAAF,qDAUrB,OACC,UAACZ,EAAD,YACE,UAACG,EAAD,YACA,UAACD,EAAD,uBAAwBM,MACvB,SAACN,EAAD,UAAeG,QAGf,SAACJ,EAAD,CAAcqB,KAAK,SAASC,QAAS,kBAAIP,KAAzC,wB,cCvBO,SAASQ,IACtB,IAAMf,GAAWC,EAAAA,EAAAA,MACXe,GAAanB,EAAAA,EAAAA,IAAYC,EAAAA,EAAAA,eAEzBmB,GAAQpB,EAAAA,EAAAA,IAAYC,EAAAA,EAAAA,cAC1B,GAA6BoB,EAAAA,EAAAA,IAAgBD,EAAO,CAClDE,KAAgB,OAAVF,IADAR,EAAR,EAAQA,KAAMW,EAAd,EAAcA,WAQd,OAJAC,EAAAA,EAAAA,YAAU,WACJZ,GAAMT,GAASsB,EAAAA,EAAAA,IAAQb,MAC1B,CAACA,EAAMT,KAGPoB,IACC,iCACE,UAACjC,EAAD,YACE,SAACE,EAAD,CAAYkC,GAAG,IAAf,kBAECP,GACC,iCACE,SAAC3B,EAAD,CAAYkC,GAAG,YAAf,uBACA,SAAC5B,EAAD,QAGF,iCACE,SAACN,EAAD,CAAYkC,GAAG,YAAf,sBACA,SAAClC,EAAD,CAAYkC,GAAG,SAAf,2BAKN,SAAC,KAAD","sources":["pages/Layout/StyledLayout.jsx","components/UserMenu/StyledUserMenu.jsx","components/UserMenu/UserMenu.jsx","pages/Layout/Layout.jsx"],"sourcesContent":["import styled from \"styled-components\";\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nexport const Header = styled.header`\r\ndisplay: flex;\r\npadding: 10px;\r\nheight: 30px;\r\nalign-items: center;\r\nborder-bottom: 1px solid grey;\r\nbackground-color: #000;\r\n`\r\nexport const StyledLink = styled(NavLink)`\r\ndisplay: inline-block;\r\nmargin-left: 10px;\r\ntext-decoration: none;\r\ncolor: #fff;\r\n&.active{\r\n    color: orange;\r\n    text-decoration: underline;\r\n}\r\n`\r\nexport const Wrapper = styled.div`\r\npadding: 0 20px 0 20px;\r\n\r\n`\r\n","import styled from 'styled-components';\r\n\r\nexport const SuccessLogInWrapper = styled.div`\r\n  display: flex;\r\n  margin-left: auto;\r\n`;\r\nexport const LogOutButton = styled.button`\r\n  background-color: orange;\r\n  padding: 2px 20px;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n  font-weight: bold;\r\n`;\r\nexport const GreetingText = styled.p`\r\n  margin: 0;\r\n  color: #fff;\r\n`;\r\nexport const GreetingTextWrapper = styled.div`\r\n  margin-right: 5px;\r\n`;\r\n","import {SuccessLogInWrapper, LogOutButton, GreetingText,GreetingTextWrapper} from './StyledUserMenu';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport authSelectors from 'redux/auth/authSelectors';\r\nimport { useLogOutUserMutation } from 'redux/api/userApiSlice';\r\nimport {logOut} from 'redux/auth/authSlice';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\n\r\nexport default function UserMenu(){\r\n  const userEmail = useSelector(authSelectors.getUserEmail);\r\n  const userName = useSelector(authSelectors.getUserName);\r\n  const dispatch = useDispatch()\r\n  const userToken = useSelector(authSelectors.getUserToken);\r\n  const navigate = useNavigate();\r\n  const [logOutUser] = useLogOutUserMutation();\r\n\r\n  const onLogOutBtnSubmit= async () =>{\r\n  \r\n   const returnedUser = await logOutUser(userToken, {\r\n    selectFromResult: ({data}) => data.user\r\n   })\r\n  dispatch(logOut(returnedUser));\r\n  navigate(\"/\")\r\n\r\n  }\r\n  \r\n    return (\r\n     <SuccessLogInWrapper>\r\n       <GreetingTextWrapper>\r\n       <GreetingText>Welcome, {userName}</GreetingText>\r\n        <GreetingText>{userEmail}</GreetingText>\r\n       </GreetingTextWrapper>\r\n       \r\n        <LogOutButton type=\"submit\" onClick={()=>onLogOutBtnSubmit()}>Log out</LogOutButton>\r\n        \r\n      </SuccessLogInWrapper>\r\n       \r\n    )\r\n    }","import { Outlet } from 'react-router-dom';\r\nimport { Header, StyledLink } from './StyledLayout';\r\nimport UserMenu from 'components/UserMenu';\r\nimport { useSelector } from 'react-redux';\r\nimport authSelectors from 'redux/auth/authSelectors';\r\nimport { useEffect } from 'react';\r\nimport { useGetUserQuery } from 'redux/api/userApiSlice';\r\nimport { refresh } from 'redux/auth//authSlice';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nexport default function Layout() {\r\n  const dispatch = useDispatch();\r\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\r\n\r\n  const token = useSelector(authSelectors.getUserToken);\r\n  const { data, isFetching } = useGetUserQuery(token, {\r\n    skip: token === null,\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (data) dispatch(refresh(data));\r\n  }, [data, dispatch]);\r\n\r\n  return (\r\n    !isFetching && (\r\n      <>\r\n        <Header>\r\n          <StyledLink to=\"/\">Home</StyledLink>\r\n\r\n          {isLoggedIn ? (\r\n            <>\r\n              <StyledLink to=\"/contacts\">Contacts</StyledLink>\r\n              <UserMenu />\r\n            </>\r\n          ) : (\r\n            <>\r\n              <StyledLink to=\"/register\">Sign up</StyledLink>\r\n              <StyledLink to=\"/login\">Log in</StyledLink>\r\n            </>\r\n          )}\r\n        </Header>\r\n\r\n        <Outlet />\r\n      </>\r\n    )\r\n  );\r\n}\r\n"],"names":["Header","styled","StyledLink","NavLink","SuccessLogInWrapper","LogOutButton","GreetingText","GreetingTextWrapper","UserMenu","userEmail","useSelector","authSelectors","userName","dispatch","useDispatch","userToken","navigate","useNavigate","useLogOutUserMutation","logOutUser","onLogOutBtnSubmit","selectFromResult","data","user","returnedUser","logOut","type","onClick","Layout","isLoggedIn","token","useGetUserQuery","skip","isFetching","useEffect","refresh","to"],"sourceRoot":""}